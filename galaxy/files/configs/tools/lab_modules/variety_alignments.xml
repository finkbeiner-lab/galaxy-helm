<tool id="variety_alignments" name="Variety Alignments">

<description>Alignment Algorithms.</description>

<command interpreter="python">
#if str($process_mode) == 'multiprocessing': 
    variety_alignments_mp.py 
#else:
    variety_alignments_distributed.py
#end if 

$input_var_dict $alignment_algorithm $input_image_path $output_results_path $outfile

#if str($calculated_shift_dict) !='': 
   --shift '$calculated_shift_dict'
#end if
</command>

<inputs>
<param name="input_var_dict" type="data" format="data" label="Local variables dictionary (output from 'Montage')."/>
<param name="process_mode" type="select" label="Select a processing mode" help="Multiprocessing use all the cores in one node while Distributed use all the cores in all nodes in the cluster">
            <option value="multiprocessing" selected='true'>MultiProcessing</option>
            <option value="distributed">Distributed</option>
</param>
<param name="alignment_algorithm" type="select" label="Select an algorithm for alignment" help="Algorithms for alignment.">
            <option value="cross_correlation">Cross Correlation</option>
            <option value="dft">DFT</option>
            <option value="cross_correlation_dft_combo" selected='true'>Cross Correlation DFT Combo</option>
</param>
<param name="input_image_path" type="text" format="text" value="/finkbeiner/imaging/smb-robodata/your_folders/MontagedImages" size="70" label="Enter path to images that need to be aligned. Example: MontagedImages" help="Note that RoboData/your_folders = /finkbeiner/imaging/smb-robodata/your_folders"/>
<param name="output_results_path" type="text" format="text" value="/finkbeiner/imaging/smb-robodata/your_folders/AlignedImages" size="70" label="Enter path to output destination. Example: AlignedImages" help="Note that RoboData/your_folders = /finkbeiner/imaging/smb-robodata/your_folders"/>
<param name="calculated_shift_dict" type="text" format="text" value="" size="70" label="Optional: Path of previous calculated shift file. i.e. /finkbeiner/imaging/smb-robodata/your_pre_folders/AlignedImages/calculated_shift.dict" help="Note that RoboData/your_folders = /finkbeiner/imaging/smb-robodata/your_folders" optional="true"/>
</inputs>

<outputs>
<data name="outfile" type="text" format="data" label="Alignment Result"/>
</outputs>

<help>  
Alignment algorithms: CrossCorrelation, DFT, and CrossCorrelation DFT Combo
</help>
</tool>