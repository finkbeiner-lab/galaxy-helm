<tool id="montage_versions_dev" name="Montage" version="1.0">
<description>stitches together a matrix of images.</description>

<command interpreter="python">

montage_mp.py
#if str($px_overlap) !='':
      --px_overlap '$px_overlap'
#end if

$infile $montage_order $outfile

#if $input_image_path != '':
       --input_image_path '$input_image_path'
    #end if
#if $output_results_path != '':
   --output_results_path '$output_results_path'
#end if
</command>

<inputs>
<param name="infile" type="data" format="data" label="Local variables dictionary (output from 'Correct Background')."/>
<param name="montage_order" type="select" label="Select microscope or auto-detect." help="This determines the order by which images will be montaged. Auto-detect requires use of the 'Create Folders and Check Data' module.">
            <option value="autodetect" selected='true'>Auto-detect</option>
            <option value="robo034">Robo0/3/4</option>
            <option value="robo5">Robo5</option>
            <option value="robo6">Robo6</option>
            <option value="ixm">IXM</option>
</param>
<param name="input_image_path" type="text" format="text" value="" size="70" label="Optional: Enter path to images that need to be montaged." help="Leave blank to get from BackgroundCorrected folder in the Galaxy output folder, or enter path to images to be montaged, e.g. /finkbeiner/imaging/smb-robodata/your_folders/BackgroundCorrected" optional='true'/>
<param name="output_results_path" type="text" format="text" value="" size="70" label="Optional: Enter path to output destination." help="Leave blank to save to MontagedImages folder in the Galaxy output folder, or enter another path, e.g. /finkbeiner/imaging/smb-robodata/your_folders/MontagedImages" optional='true'/>
<param name="px_overlap" type="integer" value="" size="10" label="Optional: Enter image overlap in pixels. Leave blank to use value set in 'Create Folders' module" help="e.g. 30" optional="true"/>
</inputs>

<outputs>
<data name="outfile" type="data" format="data" label="Well Montage"/>
</outputs>

<help>
Creates a montage of specified matrix dimensions.
</help>
</tool>
